"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[238],{3752:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>a});var s=i(4848),l=i(8453);const r={},o="CLI reference",t={id:"reference/cli",title:"CLI reference",description:"After you've compiled your app with ego-go, use the ego tool to sign, run, and examine your enclave app.",source:"@site/docs/reference/cli.md",sourceDirName:"reference",slug:"/reference/cli",permalink:"/ego/pr-preview/pr-324/reference/cli",draft:!1,unlisted:!1,editUrl:"https://github.com/edgelesssys/ego/edit/master/docs/docs/reference/cli.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"TLS inside the enclave",permalink:"/ego/pr-preview/pr-324/knowledge/tls"},next:{title:"Configuration file",permalink:"/ego/pr-preview/pr-324/reference/config"}},d={},a=[{value:"ego sign",id:"ego-sign",level:2},{value:"Synopsis",id:"synopsis",level:3},{value:"Examples",id:"examples",level:3},{value:"Options",id:"options",level:3},{value:"ego run",id:"ego-run",level:2},{value:"Synopsis",id:"synopsis-1",level:3},{value:"ego marblerun",id:"ego-marblerun",level:2},{value:"Synopsis",id:"synopsis-2",level:3},{value:"Options",id:"options-1",level:3},{value:"ego bundle",id:"ego-bundle",level:2},{value:"Synopsis",id:"synopsis-3",level:3},{value:"Options",id:"options-2",level:3},{value:"ego signerid",id:"ego-signerid",level:2},{value:"Synopsis",id:"synopsis-4",level:3},{value:"Options",id:"options-3",level:3},{value:"ego uniqueid",id:"ego-uniqueid",level:2},{value:"Synopsis",id:"synopsis-5",level:3},{value:"Options",id:"options-4",level:3},{value:"ego env",id:"ego-env",level:2},{value:"Synopsis",id:"synopsis-6",level:3},{value:"Examples",id:"examples-1",level:3},{value:"ego install",id:"ego-install",level:2},{value:"Synopsis",id:"synopsis-7",level:3},{value:"Options",id:"options-5",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cli-reference",children:"CLI reference"})}),"\n",(0,s.jsxs)(n.p,{children:["After you've compiled your app with ",(0,s.jsx)(n.code,{children:"ego-go"}),", use the ",(0,s.jsx)(n.code,{children:"ego"})," tool to sign, run, and examine your enclave app."]}),"\n",(0,s.jsx)(n.p,{children:"Usage:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ego <command> [arguments]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Commands:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#ego-sign",children:"sign"}),": Sign an executable built with ego-go"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#ego-run",children:"run"}),": Run a signed executable in standalone mode"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#ego-marblerun",children:"marblerun"}),": Run a signed executable as a MarbleRun Marble"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#ego-bundle",children:"bundle"}),": Bundle a signed executable with the current EGo runtime into a single executable"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#ego-signerid",children:"signerid"}),": Print the SignerID of a signed executable"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#ego-uniqueid",children:"uniqueid"}),": Print the UniqueID of a signed executable"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#ego-env",children:"env"}),": Run a command in the EGo environment"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#ego-install",children:"install"}),": Install drivers and other components"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"ego-sign",children:"ego sign"}),"\n",(0,s.jsx)(n.p,{children:"Sign an executable built with ego-go"}),"\n",(0,s.jsx)(n.h3,{id:"synopsis",children:"Synopsis"}),"\n",(0,s.jsx)(n.p,{children:"Sign an executable built with ego-go. Executables must be signed before they can be run in an enclave."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ego sign [executable | config.json]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'  ego sign <executable>\n    Generates a new key "private.pem" and a default configuration "enclave.json" in the current directory and signs the executable.\n\n  ego sign\n    Searches in the current directory for "enclave.json" and signs the therein provided executable.\n\n  ego sign <config.json>\n    Signs an executable according to a given configuration.\n'})}),"\n",(0,s.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"  -h, --help   help for sign\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ego-run",children:"ego run"}),"\n",(0,s.jsx)(n.p,{children:"Run a signed executable in standalone mode"}),"\n",(0,s.jsx)(n.h3,{id:"synopsis-1",children:"Synopsis"}),"\n",(0,s.jsx)(n.p,{children:"Run a signed executable in an enclave. You can pass arbitrary arguments to the enclave."}),"\n",(0,s.jsxs)(n.p,{children:["Environment variables are only readable from within the enclave if they start with ",(0,s.jsx)(n.code,{children:"EDG_"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Set OE_SIMULATION=1 to run in simulation mode.\nSet EDG_LOG_FORMAT=json to enable JSON-structured logs for EGo's startup code."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ego run <executable> [args...]\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ego-marblerun",children:"ego marblerun"}),"\n",(0,s.jsx)(n.p,{children:"Run a signed executable as a MarbleRun Marble"}),"\n",(0,s.jsx)(n.h3,{id:"synopsis-2",children:"Synopsis"}),"\n",(0,s.jsxs)(n.p,{children:["Run a signed executable as a MarbleRun Marble.\nRequires a running MarbleRun Coordinator instance.\nEnvironment variables are only readable from within the enclave if they start with ",(0,s.jsx)(n.code,{children:"EDG_"})," and\nwill be extended/overwritten with the ones specified in the manifest."]}),"\n",(0,s.jsx)(n.p,{children:"Requires the following configuration environment variables:\nEDG_MARBLE_COORDINATOR_ADDR   The Coordinator address\nEDG_MARBLE_TYPE               The type of this Marble (as specified in the manifest)\nEDG_MARBLE_DNS_NAMES          The alternative DNS names for this Marble's TLS certificate\nEDG_MARBLE_UUID_FILE          The location where this Marble will store its UUID"}),"\n",(0,s.jsx)(n.p,{children:"Set OE_SIMULATION=1 to run in simulation mode.\nSet EDG_LOG_FORMAT=json to enable JSON-structured logs for EGo's startup code."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ego marblerun <executable>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"options-1",children:"Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"  -h, --help   help for marblerun\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ego-bundle",children:"ego bundle"}),"\n",(0,s.jsx)(n.p,{children:"Bundle a signed executable with the current EGo runtime into a single executable"}),"\n",(0,s.jsx)(n.h3,{id:"synopsis-3",children:"Synopsis"}),"\n",(0,s.jsx)(n.p,{children:"Bundles a signed executable with the current EGo runtime into a single all-in-one executable."}),"\n",(0,s.jsx)(n.p,{children:"Use this option to run your enclave on systems that don't have EGo installed or have a different version."}),"\n",(0,s.jsx)(n.p,{children:"Note that the SGX driver and libraries still need to be installed on the target system to execute the bundled executable without issues."}),"\n",(0,s.jsxs)(n.p,{children:["If no output filename is specified, the output binary will be created with the same name as the source executable, appended with ",(0,s.jsx)(n.code,{children:"-bundle"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ego bundle <executable> [output]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"options-2",children:"Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"  -h, --help   help for bundle\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ego-signerid",children:"ego signerid"}),"\n",(0,s.jsx)(n.p,{children:"Print the SignerID of a signed executable"}),"\n",(0,s.jsx)(n.h3,{id:"synopsis-4",children:"Synopsis"}),"\n",(0,s.jsx)(n.p,{children:"Print the SignerID either from a signed executable or by reading a key file."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ego signerid <executable | key.pem>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"options-3",children:"Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"  -h, --help   help for signerid\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ego-uniqueid",children:"ego uniqueid"}),"\n",(0,s.jsx)(n.p,{children:"Print the UniqueID of a signed executable"}),"\n",(0,s.jsx)(n.h3,{id:"synopsis-5",children:"Synopsis"}),"\n",(0,s.jsx)(n.p,{children:"Print the UniqueID of a signed executable."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ego uniqueid <executable>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"options-4",children:"Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"  -h, --help   help for uniqueid\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ego-env",children:"ego env"}),"\n",(0,s.jsx)(n.p,{children:"Run a command in the EGo environment"}),"\n",(0,s.jsx)(n.h3,{id:"synopsis-6",children:"Synopsis"}),"\n",(0,s.jsx)(n.p,{children:"Run a command within the EGo environment."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ego env ...\n"})}),"\n",(0,s.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"  ego env make\n    Builds a Go project that uses a Makefile.\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ego-install",children:"ego install"}),"\n",(0,s.jsx)(n.p,{children:"Install drivers and other components"}),"\n",(0,s.jsx)(n.h3,{id:"synopsis-7",children:"Synopsis"}),"\n",(0,s.jsx)(n.p,{children:'Install drivers and other components. The components that you can install depend on your operating system and its version.\nUse "ego install" to list the available components for your system.'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ego install [component]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"options-5",children:"Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"  -h, --help   help for install\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>t});var s=i(6540);const l={},r=s.createContext(l);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);